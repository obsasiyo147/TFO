(()=>{"use strict";class e{constructor(e){this.dropzone=e,this.nodes=this.dropzone.children,this.selectedNode="",this.selectedNodePos=0;for(var t=0;t<this.nodes.length;t++)this.nodes[t].addEventListener("dragstart",(t=>{t.dataTransfer.setData("text",t.currentTarget.id),console.log("Dragstarted"),this.selectedNode=document.getElementById(t.currentTarget.id),console.log(this.selectedNode),e.removeChild(selectedNode)}));this.dropzone.addEventListener("dragover",(e=>{e.preventDefault(),console.log("Dragover"),this.whereAmI(e.clientY)})),this.dropzone.addEventListener("drop",(e=>{e.preventDefault(),console.log("Dropped on "+this.selectedNodePos),console.log(this.selectedNode),1==this.selectedNodePos&&(this.selectedNodePos=0),this.dropzone.insertBefore(this.selectedNode,this.dropzone.children[this.selectedNodePos]),this.selectedNodePos=0}))}establishNodePostions(){for(var e=0;e<this.nodes.length;e++)this.element=document.getElementById(this.nodes[e].id),this.position=this.element.getBoundingClientRect(),this.yTop=this.position.top,this.yBottom=this.position.bottom,this.yCenter=this.yTop+(this.yBottom-this.yTop)/2,this.nodes[e].yPos=this.yCenter}whereAmI(e){this.establishNodePostions(),this.nodeAbove=void 0;for(var t=0;t<this.nodes.length;t++)this.nodes[t].yPos<e&&(this.nodeAbove=document.getElementById(this.nodes[t].id),this.selectedNodePos=t+1);null==typeof nodeAbove&&(this.selectedNodePos=0),console.log(this.selectedNodePos)}setItem(e){this.dropzone.appendChild(e),e.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text",e.target.id),console.log("dragstart"),this.selectedNode=document.getElementById(e.target.id),console.log(this.selectedNode),setTimeout((()=>{this.dropzone.removeChild(this.selectedNode)}),0)}))}createFolderDropZone(e){e.addEventListener("dragover",(e=>{e.preventDefault(),console.log("Dragover"),this.whereAmI(e.clientY)})),e.addEventListener("drop",(t=>{t.preventDefault(),console.log("Dropped on "+this.selectedNodePos),console.log(this.selectedNode),1==this.selectedNodePos&&(this.selectedNodePos=0),e.insertBefore(this.selectedNode,e.children[0]),this.selectedNodePos=0}))}}var t=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".side-nav-show-more-toggle__button").querySelector('[data-a-target="side-nav-show-more-button"]'),s=0;do{t.click(),s+=1}while(s<=100);setTimeout((function(){document.querySelectorAll("#sideNav .side-bar-contents .tw-relative .tw-transition .side-nav-card .side-nav-card__link").forEach((e=>{console.log("Cleaning"),e.removeAttribute("data-a-id")}))}),1e3);var d=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".tw-flex-grow-1");d.id="FollowedChannels";var o=document.createElement("div");o.classList.add("side-nav-section"),o.classList.add("tw-flex"),o.classList.add("tw-flex-column"),o.setAttribute("aria-label","Organizer"),o.setAttribute("role","group");var a=document.createElement("div");a.classList.add("side-nav-header"),a.classList.add("tw-mg-1"),a.classList.add("tw-pd-t-05"),a.setAttribute("data-a-target","side-nav-header-expanded"),a.setAttribute("role","group"),o.appendChild(a);var r=document.createElement("h5");r.classList.add("same-font"),r.textContent="ORGANIZER CHANNEL",a.appendChild(r);var n=document.createElement("div");n.classList.add("tw-relative"),n.classList.add("tw-transition-group"),o.appendChild(n),setTimeout((function(){var t=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".tw-relative").querySelectorAll(".tw-transition a"),s=document.createElement("div");s.id="dropZoneMain",s.classList.add("space");var a=0;t.forEach((e=>{e.id=a,e.setAttribute("draggable","true"),e.className="",e.style="";var t=document.createElement("div");t.className="side-nav-card tw-relative ffz--side-nav-card-offline node",t.appendChild(e),document.createElement("li"),t.setAttribute("draggable","true"),t.classList.add("node"),t.id=a,s.appendChild(t),a+=1})),n.appendChild(s);var r=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".side-nav-section");d.insertBefore(o,r),r.remove();var l=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector("#FollowedChannels").querySelector(".tw-relative").querySelector("#dropZoneMain"),i=new e(l),c=(document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".side-nav-show-more-toggle__button").querySelector('[data-a-target="side-nav-show-more-button"]'),document.querySelector("#root").querySelector(".tw-absolute")),u=document.createElement("div");u.id="TFO",u.classList.add("ffz-dialog"),u.classList.add("ffz-main-menu"),u.classList.add("tw-elevation-3"),u.classList.add("tw-c-background-alt"),u.classList.add("tw-c-text-base"),u.classList.add("tw-border"),u.classList.add("tw-flex"),u.classList.add("tw-flex-nowrap"),u.classList.add("tw-flex-column");var h=document.createElement("header");h.classList.add("tw-c-background-base"),h.classList.add("tw-full-width"),h.classList.add("tw-align-items-center"),h.classList.add("tw-flex-nowrap");var v=document.createElement("h3");v.innerHTML="TFO";var m=document.createElement("div"),p=document.createElement("button");p.classList.add("tw-button-icon"),p.classList.add("tw-mg-x-05"),p.classList.add("tfo-button"),p.innerHTML="Close Window",p.onclick=function(){document.querySelector("#root").querySelector(".tw-absolute").querySelector("#TFO").remove()},h.appendChild(v),h.appendChild(m),h.appendChild(p);var w=document.createElement("section");w.classList.add("tw-border-t"),w.classList.add("tw-full-height"),w.classList.add("tw-full-width"),w.classList.add("tw-flex"),w.classList.add("tw-flex-nowrap"),w.classList.add("tw-overflow-hidden");var g=document.createElement("div"),y=document.createElement("button"),L=document.createElement("input");L.value="New Folder",y.innerHTML="Create New Folder",y.onclick=function(){var e=document.createElement("div");e.setAttribute("draggable","true"),e.classList.add("collapsible"),e.classList.add("folder"),e.id=a;var t=L.value;a+=1,e.innerHTML=t;var s=document.createElement("div");s.classList.add("content"),s.id=a,e.addEventListener("click",(function(){this.classList.toggle("active");var e=this.children[0];"block"===e.style.display?e.style.display="none":e.style.display="block"})),e.appendChild(s);var d=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector("#FollowedChannels").querySelector(".tw-relative");d.insertBefore(e,d.children[0]),i.createFolderDropZone(s)},g.appendChild(L),g.appendChild(y),w.appendChild(g),u.appendChild(h),u.appendChild(w);var f=document.querySelector("#root").querySelector(".tw-flex").querySelector(".top-nav").querySelector(".tw-justify-content-end"),b=document.createElement("div");b.id="TFOButton",b.classList.add("tw-align-self-center"),b.classList.add("tw-flex-grow-0"),b.classList.add("tw-flex-nowrap"),b.classList.add("tw-flex-shrink-0"),b.classList.add("tw-mg-x-05");var N=document.createElement("button");N.innerHTML="TFO",b.appendChild(N),f.prepend(b),N.onclick=function(){c.appendChild(u)}}),1e3)})();