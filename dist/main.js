(()=>{"use strict";function e(e,t){var s=e+" "+t,d=document.createElement("div");d.classList.add("side-nav-section"),d.classList.add("tw-flex"),d.classList.add("tw-flex-column"),d.setAttribute("aria-label",s),d.setAttribute("role","group"),d.id=e;var o=document.createElement("div");o.classList.add("side-nav-header"),o.classList.add("tw-mg-1"),o.classList.add("tw-pd-t-05"),o.setAttribute("data-a-target","side-nav-header-expanded"),o.setAttribute("role","group"),d.appendChild(o);var n=document.createElement("h5");n.classList.add("same-font"),n.textContent=s.toUpperCase(),o.appendChild(n);var a=document.createElement("div");return a.classList.add("tw-relative"),a.classList.add("tw-transition-group"),d.appendChild(a),[d,a]}class t{constructor(e){this.dropzone=e,this.nodes=this.dropzone.children,this.selectedNode="",this.selectedNodePos=0;for(var t=0;t<this.nodes.length;t++)this.nodes[t].addEventListener("dragstart",(t=>{t.dataTransfer.setData("text",t.currentTarget.id),console.log("Dragstarted"),this.selectedNode=document.getElementById(t.currentTarget.id),console.log(this.selectedNode),e.removeChild(selectedNode)}));this.dropzone.addEventListener("dragover",(e=>{e.preventDefault(),console.log("Dragover"),this.whereAmI(e.clientY)})),this.dropzone.addEventListener("drop",(e=>{e.preventDefault(),console.log("Dropped on "+this.selectedNodePos),console.log(this.selectedNode),1==this.selectedNodePos&&(this.selectedNodePos=0),this.dropzone.insertBefore(this.selectedNode,this.dropzone.children[this.selectedNodePos]),this.selectedNodePos=0}))}establishNodePostions(){for(var e=0;e<this.nodes.length;e++)this.element=document.getElementById(this.nodes[e].id),this.position=this.element.getBoundingClientRect(),this.yTop=this.position.top,this.yBottom=this.position.bottom,this.yCenter=this.yTop+(this.yBottom-this.yTop)/2,this.nodes[e].yPos=this.yCenter}whereAmI(e){this.establishNodePostions(),this.nodeAbove=void 0;for(var t=0;t<this.nodes.length;t++)this.nodes[t].yPos<e&&(this.nodeAbove=document.getElementById(this.nodes[t].id),this.selectedNodePos=t+1);null==typeof nodeAbove&&(this.selectedNodePos=0),console.log(this.selectedNodePos)}setItem(e){this.dropzone.appendChild(e),e.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text",e.target.id),console.log("dragstart"),this.selectedNode=document.getElementById(e.target.id),console.log(this.selectedNode),setTimeout((()=>{this.dropzone.removeChild(this.selectedNode)}),0)}))}createFolderDropZone(e){e.addEventListener("dragover",(e=>{e.preventDefault(),console.log("Dragover"),this.whereAmI(e.clientY)})),e.addEventListener("drop",(t=>{t.preventDefault(),console.log("Dropped on "+this.selectedNodePos),console.log(this.selectedNode),1==this.selectedNodePos&&(this.selectedNodePos=0),e.insertBefore(this.selectedNode,e.children[0]),this.selectedNodePos=0}))}}!function(){var e=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".side-nav-show-more-toggle__button").querySelector('[data-a-target="side-nav-show-more-button"]'),t=0;do{e.click(),t+=1}while(t<=100);setTimeout((function(){document.querySelectorAll("#sideNav .side-bar-contents .tw-relative .tw-transition .side-nav-card .side-nav-card__link").forEach((e=>{console.log("Cleaning"),e.removeAttribute("data-a-id")}))}),1e3)}();var s=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".tw-flex-grow-1");s.id="FollowedChannels";var[d,o,n]=e("organizer","channel"),[a,r,l]=e("currently","streaming");setTimeout((function(){var e=function(e){var t=document.createElement("div");t.id="dropZoneMain",t.classList.add("space");var s=0;return e.forEach((e=>{e.id=s,e.setAttribute("draggable","true"),e.className="",e.style="";var d=document.createElement("div");d.className="side-nav-card tw-relative ffz--side-nav-card-offline node",d.appendChild(e),document.createElement("li"),d.setAttribute("draggable","true"),d.classList.add("node"),d.id=s,t.appendChild(d),s+=1})),t}(document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".tw-relative").querySelectorAll(".tw-transition a"));o.appendChild(e);var n=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".side-nav-section");s.insertBefore(a,n),s.insertBefore(d,n),n.remove();var r=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector("#FollowedChannels").querySelector("#dropZoneMain"),l=new t(r),i=(document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector(".side-nav-show-more-toggle__button").querySelector('[data-a-target="side-nav-show-more-button"]'),document.querySelector("#root").querySelector(".tw-absolute")),c=document.createElement("div");c.id="TFO",c.classList.add("ffz-dialog"),c.classList.add("ffz-main-menu"),c.classList.add("tw-elevation-3"),c.classList.add("tw-c-background-alt"),c.classList.add("tw-c-text-base"),c.classList.add("tw-border"),c.classList.add("tw-flex"),c.classList.add("tw-flex-nowrap"),c.classList.add("tw-flex-column");var u=document.createElement("header");u.classList.add("tw-c-background-base"),u.classList.add("tw-full-width"),u.classList.add("tw-align-items-center"),u.classList.add("tw-flex-nowrap");var h=document.createElement("h3");h.innerHTML="TFO";var m=document.createElement("div"),v=document.createElement("button");v.classList.add("tw-button-icon"),v.classList.add("tw-mg-x-05"),v.classList.add("tfo-button"),v.innerHTML="Close Window",v.onclick=function(){document.querySelector("#root").querySelector(".tw-absolute").querySelector("#TFO").remove()},u.appendChild(h),u.appendChild(m),u.appendChild(v);var p=document.createElement("section");p.classList.add("tw-border-t"),p.classList.add("tw-full-height"),p.classList.add("tw-full-width"),p.classList.add("tw-flex"),p.classList.add("tw-flex-nowrap"),p.classList.add("tw-overflow-hidden");var g=document.createElement("div"),w=document.createElement("button"),y=document.createElement("input");y.value="New Folder",w.innerHTML="Create New Folder",function(e,t,s,d){e.onclick=function(){console.log("creating a folder");var e=document.createElement("div"),o=document.createElement("div");o.setAttribute("draggable","true"),o.classList.add("collapsible"),o.classList.add("folder");var n=t.value;o.innerHTML=n;var a=document.createElement("div");a.classList.add("content");var r=document.createElement("button");r.classList.add("deleteButtonFolder"),r.onclick=function(){for(e.remove();null!=a.getElementsByClassName("node");){var t=a.getElementsByClassName("node");d.appendChild(t[0])}},o.addEventListener("click",(function(){this.classList.toggle("active");var e=this.children[0];"block"===e.style.display?e.style.display="none":e.style.display="block"})),o.appendChild(a),e.appendChild(o),e.appendChild(r);var l=document.querySelector("#sideNav").querySelector(".side-bar-contents").querySelector("#FollowedChannels").querySelector("#organizer").querySelector(".tw-relative");console.log(l),l.insertBefore(e,l.children[0]),s.createFolderDropZone(a)}}(w,y,l,e),g.appendChild(y),g.appendChild(w),p.appendChild(g),c.appendChild(u),c.appendChild(p);var f=document.querySelector("#root").querySelector(".tw-flex").querySelector(".top-nav").querySelector(".tw-justify-content-end"),L=document.createElement("div");L.id="TFOButton",L.classList.add("tw-align-self-center"),L.classList.add("tw-flex-grow-0"),L.classList.add("tw-flex-nowrap"),L.classList.add("tw-flex-shrink-0"),L.classList.add("tw-mg-x-05");var b=document.createElement("button");b.innerHTML="TFO",L.appendChild(b),f.prepend(L),b.onclick=function(){i.appendChild(c)}}),1e3)})();